<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Extend Config Generator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav>
      <h1>Clash Verge | Extend Config Generator</h1>
      <ul>
        <li>Button1</li>
        <li>Button2</li>
      </ul>
    </nav>

    <label for="group">Имя группы:</label>
    <input
      type="text"
      id="group"
      value="PROXY"
      placeholder="например: PROXY"
    />

    <label for="input">Список доменов/IP/CIDR:</label>
    <textarea id="input" rows="7"></textarea>

    <div>
      <button
        onclick="generate()"
        id="btn-generate"
        title="Сгенерировать"
      >
        Сгенерировать
      </button>
    </div>

    <div id="action-buttons">
      <button onclick="simplify()" id="btn-simplify" title="Упростить">
        Упростить
      </button>
      <button onclick="copyOutput()" id="btn-copy" title="Копировать">
        Копировать
      </button>
      <button onclick="download()" id="btn-download" title="Скачать YAML">
        Скачать YAML
      </button>
    </div>

    <pre id="output" style="display: none;"></pre>
    <div id="error-log" style="display: none;"></div>

    <section class="faq" aria-label="Часто задаваемые вопросы">
      <h2
        id="faq-toggle"
        tabindex="0"
        role="button"
        aria-expanded="false"
        aria-controls="faq-content"
      >
        FAQ — Как работать с этим
      </h2>
      <div id="faq-content" aria-hidden="true">
        <div class="faq-block">
          <h3>Работа с сайтом</h3>
          <p>
            1. Укажите адреса в виде доменов или IP (поддерживается IPv4 и IPv6).
          </p>
          <p>
            2. Нажмите кнопку <code>Сгенерировать</code> для формирования
            готового конфига.
          </p>
          <p>При необходимости можно скачать YAML-файл.</p>
        </div>

        <div class="faq-block">
          <h3>Что делает кнопка «Упростить»?</h3>
          <p>
            Кнопка <code>Упростить</code> объединяет домены в правила
            <code>DOMAIN-SUFFIX</code>, если это возможно.
          </p>
        </div>

        <div class="faq-block">
          <h3>Работа с Clash Verge</h3>
          <p>
            Полученный конфиг добавьте в Clash Verge через
            <code>Profiles → Global Extend Config</code>.
          </p>
        </div>

        <div class="faq-block">
          <h3>Режим прокси</h3>
          <p>
            В блоке <code>Proxy Mode (Home → Proxy Mode)</code> выберите режим
            <code>Rule</code>.
          </p>
        </div>

        <div class="faq-block">
          <h3>Что такое группа?</h3>
          <p>
            Это имя прокси-группы (например, <code>PROXY</code> или
            <code>AUTO</code>).
          </p>
        </div>

        <div class="faq-block">
          <h3>Что такое <code>MATCH</code>?</h3>
          <p>Это правило по умолчанию, применяемое ко всему остальному трафику.</p>
        </div>
      </div>
    </section>

    <div
      id="notify"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    ></div>

    <footer>
      &copy; pwd: d4rked // Clash Verge | Extend Config Generator
    </footer>

    <script src="script.js"></script>
  </body>
</html>
